(this["webpackJsonpboard-games-frontend"]=this["webpackJsonpboard-games-frontend"]||[]).push([[0],{34:function(e,t,a){e.exports=a(68)},39:function(e,t,a){},41:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(31),o=a.n(s),i=(a(39),a(17)),c=a(12),l=a.n(c),u=a(14),m=a(2),h=a(3),d=a(5),p=a(4),g=(a(41),a(11)),b=a(1),f=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"clicked",value:function(){console.log("K\xf3\u0142ko i krzy\u017cyk"===this.props.name);var e="/";e="K\xf3\u0142ko i krzy\u017cyk"===this.props.name?"/tictactoe":"/"+this.props.name,this.props.history.push(e)}},{key:"render",value:function(){var e=this,t="/";return t="K\xf3\u0142ko i krzy\u017cyk"===this.props.name?"/tictactoe":"/"+this.props.name,r.a.createElement("div",{className:"Game"},r.a.createElement("p",{onClick:function(t){return e.clicked(t)}},"I'm",r.a.createElement(g.b,{to:t}," ",this.props.name," "),"and number of players is: ",this.props.playersNumber),r.a.createElement("img",{src:this.props.img,alt:""}),r.a.createElement("p",null,this.props.children))}}]),a}(n.Component),v=Object(b.f)(f),y=a(13),E=a.n(y),k=(a(64),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.submitting;return r.a.createElement("div",{className:"LogPanel"},r.a.createElement("p",null,"Username:"),r.a.createElement("input",{type:"text",onChange:this.props.changedUsername,onKeyPress:this.props.enterLogin}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"loginButton",onClick:this.props.submit,disabled:e},e&&r.a.createElement("i",{className:"fa fa-refresh fa-spin",style:{marginRight:"5px"}}),e&&r.a.createElement("span",null,"Logging in"),!e&&r.a.createElement("span",null,"Log in")),!0===this.props.wrongLoginData&&r.a.createElement("p",{style:{color:"red"}},"Wrong login data"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"gotoRegisterButton",onClick:this.props.gotoRegister},"Sign in"),r.a.createElement("p",null,this.props.children))}}]),a}(n.Component)),w=(a(65),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r)))._handleKeyDown=function(t){if("Enter"===t.key)return e.props.register},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.submitting;return r.a.createElement("div",{className:"RegistrationPanel"},r.a.createElement("p",null,"Username:"),r.a.createElement("input",{type:"text",onChange:this.props.changedUsername,onKeyPress:this.props.enterRegister}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"registrationButton",onClick:this.props.register,disabled:e},e&&r.a.createElement("i",{className:"fa fa-refresh fa-spin",style:{marginRight:"5px"}}),e&&r.a.createElement("span",null,"Registering"),!e&&r.a.createElement("span",null,"Register")),!0===this.props.unavaliableUsername&&r.a.createElement("p",{style:{color:"red"}},"That username is unavaliable"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"gotoLoginButton",onClick:this.props.gotoLogin},"Login screen"),r.a.createElement("p",null,this.props.children))}}]),a}(n.Component)),j=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Warcaby"},r.a.createElement("p",null,"Warcaby bejbo"))}}]),a}(n.Component),O=(Object(b.f)(j),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Szachy"},r.a.createElement("p",null,"Szachy bejbo"))}}]),a}(n.Component)),L=a(33);a(66);function N(e){return r.a.createElement("button",{className:"square",onClick:e.onClick},e.value)}var S=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"renderSquare",value:function(e){var t=this;return r.a.createElement(N,{value:this.props.squares[e],onClick:function(){return t.props.onClick(e)}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"board-row"},this.renderSquare(0),this.renderSquare(1),this.renderSquare(2)),r.a.createElement("div",{className:"board-row"},this.renderSquare(3),this.renderSquare(4),this.renderSquare(5)),r.a.createElement("div",{className:"board-row"},this.renderSquare(6),this.renderSquare(7),this.renderSquare(8)))}}]),a}(n.Component),C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={history:[{squares:Array(9).fill(null)}],stepNumber:0,xIsNext:!0},n}return Object(h.a)(a,[{key:"handleClick",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),a=t[t.length-1].squares.slice();x(a)||a[e]||(a[e]=this.state.xIsNext?"X":"O",this.setState({history:t.concat([{squares:a}]),stepNumber:t.length,xIsNext:!this.state.xIsNext}))}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e,xIsNext:e%2===0})}},{key:"render",value:function(){var e,t=this,a=this.state.history,n=a[this.state.stepNumber],s=x(n.squares),o=a.map((function(e,a){var n=a?"Go to move #"+a:"Go to game start";if(0===a)return r.a.createElement("div",{key:a},r.a.createElement("button",{onClick:function(){return t.jumpTo(a)}},n))}));return e=s?"Winner: "+s:"Next player: "+(this.state.xIsNext?"X":"O"),r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"game-board"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(S,{squares:n.squares,onClick:function(e){return t.handleClick(e)}})),r.a.createElement("div",{className:"game-info"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,e),r.a.createElement("br",null),r.a.createElement("div",null,o)))}}]),a}(n.Component),R=Object(b.f)(C);function x(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<t.length;a++){var n=Object(L.a)(t[a],3),r=n[0],s=n[1],o=n[2];if(e[r]&&e[r]===e[s]&&e[r]===e[o])return e[r]}return null}a(67);var z=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={gameId:n.props.gameId,id:n.props.id,playersArray:n.props.players,maxPlayers:n.props.maxPlayers,playerNameId:9,isMatchJoined:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e;for(console.log(this.state.playersArray),e=0;e<this.state.playersArray.length;e++)9===this.state.playersArray[e].userId&&this.setState({isMatchJoined:!0})}},{key:"clickedLeave",value:function(){var e=this,t="https://boardgames1.herokuapp.com/leave-match/"+this.state.playerNameId.toString(),a={userId:this.state.playerNameId};function n(){return(n=Object(u.a)(l.a.mark((function e(){var t,a,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,{method:"DELETE",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=e.sent,window.location.reload(!1),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("Leave match:"),console.log(a),function(){return n.apply(this,arguments)}(t,a).then((function(t){console.log(t.status),204===t.status?(console.log("Joined"),e.setState({isJoinedMatch:!1})):500===t.status?(e.setState({isJoinedMatch:!1}),window.alert("You are in no room")):(console.log("Problem z \u0142\u0105czno\u015bci\u0105 z serwerem"),window.alert("Problem z \u0142\u0105czno\u015bci\u0105 z serwerem"))}))}},{key:"clickedJoin",value:function(e){var t=this,a={match:this.state.id,playerName:this.state.playerNameId};function n(){return(n=Object(u.a)(l.a.mark((function e(){var t,a,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=e.sent,window.location.reload(!1),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("Article"),console.log(a),function(){return n.apply(this,arguments)}("https://boardgames1.herokuapp.com/join-match/",a).then((function(e){console.log(e.status),201===e.status?(console.log("Joined"),t.setState({isJoinedMatch:!0})):500===e.status?(t.setState({isJoinedMatch:!1}),window.alert("You are already in room")):(console.log("Problem z \u0142\u0105czno\u015bci\u0105 z serwerem"),window.alert("Problem z \u0142\u0105czno\u015bci\u0105 z serwerem"))}))}},{key:"render",value:function(){var e,t=this;return e=1===this.state.gameId?r.a.createElement(R,null):r.a.createElement(O,null),console.log(this.state.gameId),r.a.createElement("div",{className:"text-and-button"},!1===this.state.isMatchJoined&&r.a.createElement("div",{className:"Room"},r.a.createElement("p",null,"Room #",this.state.id," | players: [",this.state.playersArray.length,"/",this.state.maxPlayers,"]"),r.a.createElement("button",{onClick:function(e){return t.clickedJoin(e)}}," join"),r.a.createElement("p",null,this.props.children)),!0===this.state.isMatchJoined&&r.a.createElement("div",{className:"Room"},r.a.createElement("br",null),r.a.createElement("button",{className:"button button1",onClick:function(e){return t.clickedLeave(e)}}," Leave"),e,r.a.createElement("p",null,"Room #",this.state.id," | players: [",this.state.playersArray.length,"/",this.state.maxPlayers,"]"),r.a.createElement("p",null,this.props.children)))}}]),a}(n.Component),P=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={gameName:n.props.games.name,gameId:n.props.games.id,matches:[],isMatchJoined:!1,matchesListLoaded:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({matchesListLoaded:!1});var t="https://boardgames1.herokuapp.com/matches/"+this.state.gameId;E.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",E.a.get(t).then((function(t){e.setState({matches:t.data.matches,matchesListLoaded:!0})}))}},{key:"clickedCreateRoom",value:function(e){var t=this,a={game:this.state.gameId,maxPlayers:2};function n(){return(n=Object(u.a)(l.a.mark((function e(){var t,a,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=e.sent,window.location.reload(!1),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("Article"),console.log(a),function(){return n.apply(this,arguments)}("https://boardgames1.herokuapp.com/creatematch/",a).then((function(e){console.log(e.status),201===e.status?(console.log("Created"),t.setState({isJoinedMatch:!0})):500===e.status?(t.setState({isJoinedMatch:!1}),window.alert("You are already in room")):(console.log("Problem z \u0142\u0105czno\u015bci\u0105 z serwerem"),window.alert("Problem z \u0142\u0105czno\u015bci\u0105 z serwerem"))}))}},{key:"matchPasser",value:function(){console.log("Passed"),this.setState({isMatchJoined:!0}),console.log(this.state.isMatchJoined)}},{key:"render",value:function(){var e,t=this;return this.state.matchesListLoaded&&(e=this.state.matches.map((function(e,a){return r.a.createElement(z,{gameId:t.state.gameId,id:e.id,key:a,maxPlayers:e.maxPlayers,players:e.players,matchPasser:t.matchPasser})}))),r.a.createElement("div",{className:"GameMatching"},!1===this.state.matchesListLoaded&&r.a.createElement("h2",null,"Loading room..."),r.a.createElement("button",{className:"button Create-Room",onClick:function(e){return t.clickedCreateRoom(e)}},"Create room"),r.a.createElement("br",null),this.state.matchesListLoaded&&e)}}]),a}(n.Component),q=Object(b.f)(P),H=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={games:[],users:[],usersLoaded:!1,gamesListLoaded:!1,isLogged:!0,isRegistered:!1,wantRegister:!1,username:null,password:null,loading:!1,wrongLoginData:!1,unavaliableUsername:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",E.a.get("http://boardgames1.herokuapp.com/games/").then((function(t){e.setState({games:t.data,gamesListLoaded:!0})}));E.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",E.a.get("https://boardgames1.herokuapp.com/register/").then((function(t){e.setState({users:t.data,usersLoaded:!0})}))}},{key:"enterRegisterHandler",value:function(e){13===e.charCode&&this.submitRegisterHandler()}},{key:"submitRegisterHandler",value:function(e){var t=this;function a(){return(a=Object(u.a)(l.a.mark((function e(){var t,a,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return a.apply(this,arguments)})("https://boardgames1.herokuapp.com/register/",{username:this.state.username}).then((function(e){console.log(e.status),201===e.status?(console.log("Zarejestrowany"),t.setState({usersLoaded:!0,isLogged:!0,unavaliableUsername:!1,isRegistered:!0})):400===e.status?(t.setState({unavaliableUsername:!0}),console.log("Z\u0142a nazwa")):console.log("Problem z \u0142\u0105czno\u015bci\u0105 z serwerem")}))}},{key:"enterLoginHandler",value:function(e){13===e.charCode&&this.submitLoginHandler()}},{key:"submitLoginHandler",value:function(e){var t=this;this.setState({loading:!0});var a=this.state.username;this.state.users.map((function(e){a===e.username&&(t.setState({loading:!1}),t.setState({isLogged:!0}),t.setState({wrongLoginData:!1}))})),!1===this.state.isLogged&&(this.setState({loading:!1}),this.setState({wrongLoginData:!0}))}},{key:"usernameChangeHandler",value:function(e){var t=Object(i.a)({},this.state);t.username=e.target.value,this.setState({username:t.username})}},{key:"passwordChangeHandler",value:function(e){var t=Object(i.a)({},this.state);t.password=e.target.value,this.setState({password:t.password})}},{key:"gotoLoginHandler",value:function(e){var t=Object(i.a)({},this.state);t.wantRegister=!1,this.setState({wantRegister:t.wantRegister})}},{key:"gotoRegisterHandler",value:function(e){var t=Object(i.a)({},this.state);t.wantRegister=!0,this.setState({wantRegister:t.wantRegister})}},{key:"render",value:function(){var e=this,t={color:"#0D0A0B"},a=this.state.games.map((function(e,t){return r.a.createElement(v,{name:e.name,key:e.id,playersNumber:e.playersNumber,img:e.imgUrl})}));function n(e){return r.a.createElement(q,{games:e})}this.state.games.map((function(e,t){return r.a.createElement(b.c,null,r.a.createElement(b.a,{path:e.name,exact:!0,component:e.name}))}));return!1===this.state.gamesListLoaded||!1===this.state.usersLoaded?r.a.createElement("div",null,"Loading..."):!1===this.state.wantRegister&&!1===this.state.isRegistered&&!1===this.state.isLogged?r.a.createElement("div",{className:"App"},r.a.createElement("h1",{style:t},"Hi, welcome to BoardGames!"),r.a.createElement(k,{changedUsername:function(t){return e.usernameChangeHandler(t)},submit:function(t){return e.submitLoginHandler(t)},enterLogin:function(t){return e.enterLoginHandler(t)},submitting:this.state.loading,gotoRegister:function(t){return e.gotoRegisterHandler(t)},wrongLoginData:this.state.wrongLoginData})):!0===this.state.wantRegister&&!1===this.state.isLogged&&!1===this.state.isRegistered?r.a.createElement("div",{className:"App"},r.a.createElement("h1",{style:t},"Hi, welcome to BoardGames!"),r.a.createElement(w,{changedUsername:function(t){return e.usernameChangeHandler(t)},register:function(t){return e.submitRegisterHandler(t)},enterRegister:function(t){return e.enterRegisterHandler(t)},submitting:this.state.loading,gotoLogin:function(t){return e.gotoLoginHandler(t)},unavaliableUsername:this.state.unavaliableUsername})):r.a.createElement("div",{className:"App"},r.a.createElement("h1",{style:t},"Hi ",this.state.username,", welcome to BoardGames!"),r.a.createElement(g.b,{to:"/games"}," Go to games "),r.a.createElement("h2",null),r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/games"},a),r.a.createElement(b.a,{path:"/Warcaby"},n(this.state.games[0])),r.a.createElement(b.a,{path:"/Szachy"},n(this.state.games[1])),r.a.createElement(b.a,{path:"/tictactoe"},n(this.state.games[0]))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=r.a.createElement(g.a,null,r.a.createElement(H,null));o.a.render(I,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.803aaaeb.chunk.js.map
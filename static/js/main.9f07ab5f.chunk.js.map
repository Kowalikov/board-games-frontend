{"version":3,"sources":["app/user/duck/types.js","app/user/duck/actions.js","app/game/duck/types.js","app/game/duck/actions.js","app/game/components/Game/Game.js","app/game/components/GamesMatching/Room/Room.js","app/game/components/Games/szachy/szachy.js","app/game/components/Games/tictactoe/tictactoe.js","app/game/components/Games/tictactoe/WebSockets/config.js","app/game/components/GamesMatching/GameMatching.js","app/user/components/LogPanel/LogPanel.js","app/user/components/RegistrationPanel/RegistrationPanel.js","app/user/components/Cockpit/Cockpit.js","App.js","serviceWorker.js","app/user/duck/reducers.js","app/user/duck/index.js","app/game/duck/reducers.js","app/game/duck/index.js","reducers.js","store.js","index.js"],"names":["CHANGE_USERNAME","SET_ID","CHANGE_PASSWORD","GOTO_REGISTER","GOTO_LOGIN","SET_LOGGED_IN","FAILED_LOGIN","SET_REGISTERED","UNAVALIABLE_USERNAME","FAILED_REGISTRATION","LOAD_GAMES","LOAD_USERS","changeUsername","username","type","types","setID","id","userID","changePassword","password","gotoRegister","gotoLogin","setLoggedIn","failedLogin","setRegistered","unavaliableUsername","failedRegistration","loadGames","games","loadUsers","users","matches","roomID","roomGameName","roomGameID","players","maxPlayers","gameName","gameID","boardState","status","winnerMark","nextPlayer","mark","Game","console","log","this","props","name","gameURL","history","push","className","onClick","event","clicked","to","playersNumber","src","img","alt","children","Component","withRouter","Room","state","gameId","datakey","playersArray","isMatchJoined","matchesUnloaded","gameData","toString","axios","defaults","headers","common","get","then","response","i1","i2","loadMatches","data","tempJoinedMatch","length","userId","userSession","userData","joinMatch","initGame","fullLoadMatch","article","a","url","fetch","method","mode","cache","body","JSON","stringify","postData","loadMatchesFromServer","window","alert","sessionMetadata","roomData","clickedJoin","connect","gameSession","dispatch","actions","matchNotJoined","Szachy","Square","value","Board","i","squares","renderSquare","Tictactoe","ws","WebSocket","joinedRoom","firstMessage","sendMessage","message","send","error","Array","fill","stepNumber","setState","onopen","onmessage","evt","payload","parse","winner","gameStatus","setMark","updateBoardState","prevState","currentPlayer","step","activePlayers","onclose","i0","WSBoardState","myMark","stepCurrent","lines","b","c","calculateWinner","moves","jumpTo","current","handleClick","GameMatching","roomURL","matchesList","matchesListLoaded","map","room","index","key","fullDataLoaded","joinedGameID","clickedLeave","game","testWebsocket","testMatch","clickedCreateRoom","LogPanel","loading","submitting","onChange","changedUsername","onKeyPress","enterLogin","submit","disabled","style","marginRight","wrongLoginData","color","RegistrationPanel","_handleKeyDown","e","register","enterRegister","Cockpit","loadGamesFromServer","loadUsersFromServer","document","title","login","uLog","loggedTemp","user","sessionData","charCode","submitRegisterHandler","submitLoginHandler","gamesParams","imgUrl","loginMetadata","gamesListLoaded","usersLoaded","wantRegister","isRegistered","isLogged","target","enterLoginHandler","enterRegisterHandler","path","GameMatcher","gameActions","App","Boolean","location","hostname","match","INITIAL_STATE","userReducer","action","joinedGameName","gameReducer","rootReducer","combineReducers","composeEnhancers","composeWithDevTools","actionCreators","trace","traceLimit","store","createStore","app","StrictMode","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9f07ab5f.chunk.js","sourcesContent":["const CHANGE_USERNAME = 'CHANGE_USERNAME'\r\nconst SET_ID = 'SET_ID'\r\nconst CHANGE_PASSWORD = 'CHANGE_PASSWORD'\r\nconst GOTO_REGISTER = 'GOTO_REGISTER'\r\nconst GOTO_LOGIN = 'GOTO_LOGIN'\r\nconst SET_LOGGED_IN = 'SET_LOGGED_IN'\r\nconst FAILED_LOGIN = 'FAILED_LOGIN'\r\nconst SET_REGISTERED = 'SET_REGISTERED'\r\nconst UNAVALIABLE_USERNAME = 'UNAVALIABLE_USERNAME'\r\nconst FAILED_REGISTRATION = 'FAILED_REGISTRATION'\r\nconst LOAD_GAMES = 'LOAD_GAMES'\r\nconst LOAD_USERS = 'LOAD_USERS'\r\n\r\nexport default {\r\n    CHANGE_USERNAME,\r\n    SET_ID,\r\n    CHANGE_PASSWORD,\r\n    GOTO_REGISTER,\r\n    GOTO_LOGIN,\r\n    SET_LOGGED_IN,\r\n    FAILED_LOGIN,\r\n    SET_REGISTERED,\r\n    UNAVALIABLE_USERNAME,\r\n    FAILED_REGISTRATION,\r\n    LOAD_GAMES,\r\n    LOAD_USERS\r\n}","import types from './types'\r\n\r\n\r\nconst changeUsername = username => ({type: types.CHANGE_USERNAME, username: username})\r\nconst setID = id => ({type: types.SET_ID, userID: id})\r\nconst changePassword = password => ({type: types.CHANGE_PASSWORD, password: password})\r\nconst gotoRegister = () => ({type: types.GOTO_REGISTER})\r\nconst gotoLogin = () => ({type: types.GOTO_LOGIN})\r\nconst setLoggedIn = () => ({type: types.SET_LOGGED_IN})\r\nconst failedLogin = () => ({type: types.FAILED_LOGIN})\r\nconst setRegistered = () => ({type: types.SET_REGISTERED})\r\nconst unavaliableUsername = () => ({type: types.UNAVALIABLE_USERNAME})\r\nconst failedRegistration = () => ({type: types.FAILED_REGISTRATION})\r\nconst loadGames = games => ({type: types.LOAD_GAMES, games: games})\r\nconst loadUsers = users => ({type: types.LOAD_USERS, users: users})\r\n\r\n\r\n\r\n\r\nexport default {\r\n    changeUsername,\r\n    setID,\r\n    changePassword,\r\n    gotoRegister,\r\n    gotoLogin,\r\n    setLoggedIn,\r\n    failedLogin,\r\n    setRegistered,\r\n    unavaliableUsername,\r\n    failedRegistration,\r\n    loadGames,\r\n    loadUsers\r\n}","const MATCHES_UNLOADED = 'MATCHES_UNLOADED'\r\nconst LOAD_MATCHES = 'LOAD_MATCHES'\r\nconst FULL_LOAD_MATCH = 'FULL_LOAD_MATCH'\r\nconst JOIN_MATCH = 'JOIN_MATCH'\r\nconst MATCH_NOT_JOINED = 'MATCH_NOT_JOINED'\r\nconst INIT_GAME = 'INIT_GAME'\r\nconst UPDATE_BOARDSTATE = 'UPDATE_BOARDSTATE'\r\nconst GAME_STATUS = 'GAME_STATUS'\r\nconst NEXT_PLAYER = 'NEXT_PLAYER'\r\nconst SET_MARK = 'SET_MARK'\r\n\r\nexport default {\r\n    MATCHES_UNLOADED,\r\n    LOAD_MATCHES,\r\n    FULL_LOAD_MATCH,\r\n    JOIN_MATCH,\r\n    MATCH_NOT_JOINED,\r\n    INIT_GAME,\r\n    UPDATE_BOARDSTATE,\r\n    GAME_STATUS,\r\n    NEXT_PLAYER,\r\n    SET_MARK\r\n}","import types from './types'\r\n\r\n\r\nconst matchesUnloaded = () => ({type: types.MATCHES_UNLOADED})\r\nconst loadMatches = matches => ({type: types.LOAD_MATCHES, matches: matches})\r\nconst fullLoadMatch = () => ({type: types.FULL_LOAD_MATCH})\r\nconst joinMatch = (roomID, roomGameName, roomGameID, players, maxPlayers) => ({type: types.JOIN_MATCH, roomID: roomID, roomGameName:roomGameName, roomGameID: roomGameID, players: players, maxPlayers: maxPlayers})\r\nconst matchNotJoined = () => ({type: types.MATCH_NOT_JOINED})\r\nconst initGame = (gameName, gameID) => ({type: types.INIT_GAME, gameName: gameName, gameID: gameID})\r\nconst updateBoardState = (boardState) => ({type: types.UPDATE_BOARDSTATE, boardState: boardState})\r\nconst gameStatus = (status, winnerMark) => ({type: types.GAME_STATUS, status: status, winnerMark: winnerMark})\r\nconst nextPlayer = (nextPlayer) => ({type: types.NEXT_PLAYER, nextPlayer:nextPlayer})\r\nconst setMark = (mark) => ({type: types.SET_MARK, mark:mark})\r\n\r\nexport default {\r\n    matchesUnloaded,\r\n    loadMatches,\r\n    fullLoadMatch,\r\n    joinMatch,\r\n    matchNotJoined,\r\n    initGame,\r\n    updateBoardState,\r\n    gameStatus,\r\n    nextPlayer,\r\n    setMark\r\n}","import React, {Component} from 'react';\r\nimport './Game.css';\r\nimport {\r\n//    BrowserRouter as Router,\r\n    withRouter,\r\n//    Switch,\r\n//    Route,\r\n    Link\r\n  } from \"react-router-dom\";\r\n\r\nclass Game extends Component {\r\n    clicked() {\r\n        console.log(this.props.name===\"Kółko i krzyżyk\")\r\n        var gameURL = \"/\"\r\n        if (this.props.name===\"Kółko i krzyżyk\"){\r\n            gameURL = \"/tictactoe\"\r\n        }\r\n        else{\r\n            gameURL = \"/\"+ this.props.name\r\n        }\r\n        this.props.history.push(gameURL)\r\n    }\r\n\r\n    render() {\r\n        var gameURL = \"/\"\r\n        if (this.props.name===\"Kółko i krzyżyk\"){\r\n            gameURL = \"/tictactoe\"\r\n        }\r\n        else{\r\n            gameURL = \"/\"+ this.props.name\r\n\r\n        }\r\n\r\n        return (\r\n                <div className=\"Game\">\r\n                    <p onClick={(event) => this.clicked(event)}>I'm\r\n                    <Link to={gameURL}> {this.props.name} </Link>\r\n                    and number of players is: {this.props.playersNumber}</p>\r\n                    <img src={this.props.img} alt=\"\"></img>\r\n                    <p>{this.props.children}</p>\r\n                </div>\r\n        \r\n        )\r\n\r\n    }\r\n\r\n};\r\n\r\nexport default withRouter(Game);","import React, {Component} from 'react';\r\nimport './Room.css';\r\nimport axios from 'axios';\r\n/*import Warcaby from '../../Games/warcaby/warcaby'\r\nimport Szachy from '../../Games/szachy/szachy'\r\nimport Tictactoe from '../../Games/tictactoe/tictactoe'*/\r\nimport {\r\n//    BrowserRouter as Router,\r\n    withRouter,\r\n//    Switch,\r\n//    Route,\r\n//    Link\r\n  } from \"react-router-dom\";\r\nimport {connect} from 'react-redux'\r\nimport actions from '../../../duck/actions'\r\n\r\nclass Room extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            gameId:this.props.gameId,\r\n            id:this.props.id,\r\n            datakey:this.props.datakey,\r\n            playersArray:this.props.players,\r\n            maxPlayers:this.props.maxPlayers,\r\n            isMatchJoined: false\r\n\r\n        };\r\n    }\r\n    componentDidMount() {\r\n      //console.log(\"JoinedRoom: \",this.props.joinedRoom)\r\n\r\n    }\r\n\r\n    componentDidUpdate() {\r\n      //console.log(\"JoinedRoom: \",this.props.joinedRoom)\r\n\r\n    }\r\n\r\n    loadMatchesFromServer() {\r\n      this.props.matchesUnloaded()\r\n      var num = this.props.gameData.gameID\r\n      //console.log(num)\r\n      //let gameURL = \"/\"+ this.props.name='https://cors-anywhere.herokuapp.com/https://boardgames1.herokuapp.com/games/?fbclid=IwAR37IdjpLC4RmLuN1wSehM1DtarmIavEGkcy7SMh-kf_lsIEVp0r3DeyaXY'\r\n      let gameURL = \"https://boardgames1.herokuapp.com/matches/\"+ num.toString()\r\n      axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest'\r\n      axios.get(gameURL)\r\n        .then(response => {\r\n          this.props.loadMatches(response.data.matches);\r\n          var i1;\r\n          var i2;\r\n          let tempJoinedMatch=false\r\n\r\n          console.log(response.data)\r\n          for (i1=0;i1<response.data.matches.length;i1++){\r\n            for (i2=0;i2<response.data.matches[i1].players.length; i2++){  \r\n              if (response.data.matches[i1].players[i2].userId===this.props.userSession.userData.userID) {\r\n                this.props.joinMatch(\r\n                  response.data.matches[i1].id,\r\n                  response.data.name,\r\n                  response.data.id,\r\n                  response.data.matches[i1].players,\r\n                  response.data.matches[i1].maxPlayers\r\n                );\r\n                tempJoinedMatch=true;\r\n                //console.log(\"LoadMatchesFromServer init: true\",response.data.name)\r\n                this.props.initGame(response.data.name, response.data.id);\r\n              }\r\n            }\r\n          }\r\n          if (tempJoinedMatch===false) {\r\n            this.props.initGame(this.props.games.name, this.props.games.id)\r\n          }\r\n          this.props.fullLoadMatch();\r\n        });\r\n      }\r\n\r\n    clickedJoin(event) {\r\n        let roomURL='https://boardgames1.herokuapp.com/join-match/'\r\n        const article = {\r\n            \"match\": this.state.id,\r\n            \"playerName\": this.props.userSession.userData.userID};\r\n        \r\n        console.log('Article')\r\n        console.log(article)\r\n    \r\n        async function postData(url = '', data = {}) {\r\n          const response = await fetch(url, {\r\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n            mode: 'cors', // no-cors, *cors, same-origin\r\n            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              },\r\n            body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n          });\r\n          return response; // parses JSON response into native JavaScript objects\r\n        }\r\n        \r\n        postData(roomURL, article).then(\r\n          response => { console.log(response.status);\r\n            if( response.status === 201){\r\n            console.log(\"Joined\");\r\n            this.loadMatchesFromServer();\r\n          }\r\n          else if (response.status === 500){\r\n            window.alert(\"You are already in room\");\r\n          }\r\n          else{\r\n            console.log(\"Problem z łącznością z serwerem\");\r\n            window.alert(\"Problem z łącznością z serwerem\")\r\n          }\r\n        });\r\n      }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <div className=\"text-and-button\">\r\n                    { this.props.sessionMetadata.isMatchJoined===false && <div className=\"Room\">\r\n                        <p>\r\n                        Room #{this.state.id} | \r\n                        players: [{this.props.roomData.matches[this.state.datakey].players.length}/{this.props.roomData.matches[this.state.datakey].maxPlayers}]</p>\r\n                        <button onClick={(event) => this.clickedJoin(event)} > join</button>\r\n                        <p>{this.props.children}</p>\r\n                    </div>}\r\n                </div>\r\n        \r\n        )\r\n\r\n    }\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.gameSession, //ew movies: state.movies,\r\n  userSession: {\r\n    ...state.userSession,\r\n  },\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  matchesUnloaded: () => dispatch(actions.matchesUnloaded()),\r\n  loadMatches: matches => dispatch(actions.loadMatches(matches)),\r\n  fullLoadMatch: () => dispatch(actions.fullLoadMatch()),\r\n  joinMatch: (roomID, roomGameName, roomGameID, players, maxPlayers) => dispatch(actions.joinMatch(roomID, roomGameName, roomGameID, players, maxPlayers)),\r\n  matchNotJoined: () => dispatch(actions.matchNotJoined()),\r\n  initGame: (gameName, gameID) => dispatch(actions.initGame(gameName, gameID)),\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Room));","import React, {Component} from 'react';\r\n//import {\r\n//    BrowserRouter as Router,\r\n//    withRouter,\r\n//    Switch,\r\n//    Route,\r\n//    Link\r\n//  } from \"react-router-dom\";\r\nimport \"./szachy.css\"\r\n\r\nclass Szachy extends Component {\r\n    render () {\r\n        return (\r\n            <div className=\"Szachy\">\r\n                <p>Szachy bejbo</p>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Szachy;","import React, {Component} from 'react';\r\nimport {\r\n    withRouter,\r\n  } from \"react-router-dom\";\r\nimport { WS_BASE } from './WebSockets/config';\r\nimport { connect} from 'react-redux'\r\nimport actions from '../../../duck/actions'\r\n\r\nimport \"./tictactoe.css\"\r\n\r\nfunction Square(props) {\r\nreturn (\r\n    <button className=\"square\" onClick={props.onClick}>\r\n    {props.value}\r\n    </button>\r\n);\r\n}\r\n\r\nclass Board extends Component {  \r\n  renderSquare(i) {\r\n    if (typeof this.props.squares !== 'undefined') {\r\n     \r\n      return (\r\n          <Square\r\n            value={this.props.squares[i]}\r\n            onClick={() => this.props.onClick(i)}\r\n          />\r\n        );\r\n      }\r\n    }\r\n      render() {\r\n        //console.log(\"Board props:\", this.props);\r\n        return (\r\n          <div>\r\n            <div className=\"board-row\">\r\n              {this.renderSquare(0)}\r\n              {this.renderSquare(1)}\r\n              {this.renderSquare(2)}\r\n            </div>\r\n            <div className=\"board-row\">\r\n              {this.renderSquare(3)}\r\n              {this.renderSquare(4)}\r\n              {this.renderSquare(5)}\r\n            </div>\r\n            <div className=\"board-row\">\r\n              {this.renderSquare(6)}\r\n              {this.renderSquare(7)}\r\n              {this.renderSquare(8)}\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n};\r\n\r\nclass Tictactoe extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    boardState: Array(9).fill(null),\r\n    stepNumber: 0,\r\n    nextPlayer: true\r\n    };\r\n  }\r\n\r\n  ws = new WebSocket(WS_BASE+this.props.roomData.joinedRoom.toString());\r\n  firstMessage = true; \r\n  componentDidMount() {\r\n    console.log(\"Tictactoe props: \",this.props)\r\n    this.setState({\r\n      ...this.state,\r\n      boardState: this.props.roomData.boardState,\r\n      nextPlayer: this.props.roomData.nextPlayer\r\n    })\r\n    //open ws\r\n    this.ws.onopen = () => {\r\n      console.log('connected')\r\n      }\r\n\r\n    this.ws.onmessage = evt => {\r\n      let payload;\r\n      console.log(\"Tester of payload converter\", JSON.parse(evt.data).winner)\r\n      if (typeof JSON.parse(evt.data).winner !== 'undefined'){ \r\n        console.log(\"Server finished data\",evt.data)\r\n        payload = JSON.parse(evt.data);\r\n        this.props.gameStatus(this.props.roomData.status , payload.winner); \r\n        this.winner = payload.winner;\r\n        return null;\r\n      } else if (this.firstMessage==true) {\r\n        payload = JSON.parse(evt.data); \r\n        console.log(\"Server initial data\",payload)\r\n        this.firstMessage = false\r\n        if (payload.data.players[0].userId === this.props.userSession.userData.userID) {\r\n          this.props.setMark(payload.data.players[0].mark)\r\n        } else if (payload.data.players[1].userId === this.props.userSession.userData.userID) {\r\n          this.props.setMark(payload.data.players[1].mark)\r\n        } else {\r\n          console.log(\"Warning: no mark assigned\")\r\n        }\r\n        this.props.updateBoardState(payload.data.state);    \r\n\r\n        this.setState((prevState, props) => {\r\n          return { \r\n            boardState: payload.data.state, \r\n            nextPlayer: payload.data.currentPlayer,\r\n            step:0\r\n          };\r\n        });\r\n        this.props.nextPlayer(payload.data.currentPlayer);\r\n        this.props.gameStatus(payload.data.status, this.props.roomData.winner);\r\n      } else {\r\n        payload = JSON.parse(evt.data);\r\n        console.log(\"Server data update\",payload)\r\n        if (this.props.roomData.activePlayers[0][\"userId\"] === this.props.userSession.userData.userID) {\r\n          this.props.setMark(this.props.roomData.activePlayers[0].mark)\r\n        } else if (this.props.roomData.activePlayers[1][\"userId\"] === this.props.userSession.userData.userID) {\r\n          this.props.setMark(this.props.roomData.activePlayers[1].mark)\r\n        } else {\r\n          console.log(\"Warning: no mark assigned\")\r\n        }\r\n        if (typeof payload.data !== 'undefined'){\r\n          payload=payload.data;\r\n        }\r\n        this.props.gameStatus(payload.status, this.props.roomData.winner);\r\n        this.setState((prevState, props) => {\r\n          return { \r\n            boardState: payload.state, \r\n            nextPlayer: payload.currentPlayer,\r\n            step:0\r\n          };\r\n        });\r\n        \r\n        this.props.nextPlayer(payload.currentPlayer);\r\n        this.props.updateBoardState(payload.state);\r\n      }  \r\n    }\r\n\r\n    this.ws.onclose = () => {\r\n      console.log('disconnected')\r\n      // automatically try to reconnect on connection loss\r\n\r\n    }\r\n  }\r\n\r\n  sendMessage=(data)=>{\r\n    try {\r\n      const message = {\r\n        \"boardState\":data.state[\"boardState\"],\r\n        \"playerId\": this.props.userSession.userData.userID\r\n      };\r\n      console.log(\"Send\", JSON.stringify(message));\r\n      this.ws.send(JSON.stringify(message)); //send data to the server\r\n    } catch (error) {\r\n        console.log(error) // catch error\r\n    }\r\n}\r\n\r\n  handleClick(i) {\r\n    const squares = this.props.roomData.boardState;\r\n    console.log(squares);\r\n    if (this.props.roomData.nextPlayer !== this.props.userSession.userData.userID) {\r\n      console.log(\"It's not your turn\");\r\n      return null;\r\n    };\r\n    var i0;\r\n    let WSBoardState=\"\";\r\n    for (i0 = 0; i0 < 9; i0++) {\r\n      if (i0==i) {\r\n        WSBoardState+=this.props.roomData.myMark;\r\n      }\r\n      else {\r\n        WSBoardState+=squares[i0]\r\n      }\r\n    }\r\n    console.log(WSBoardState)\r\n    this.sendMessage({\r\n      username: this.props.userSession.userData.username,\r\n      state: { \"boardState\": WSBoardState}\r\n    })\r\n    const stepCurrent = this.state.stepNumber;\r\n    if (calculateWinner(WSBoardState)) {\r\n      console.log(\"Locally calculated winner\")\r\n      return;\r\n    }\r\n    if (this.props.roomData.myMark===\"X\"){\r\n      this.setState({\r\n      boardState: WSBoardState,\r\n      stepNumber: stepCurrent+1,\r\n      nextPlayer: \"O\"\r\n      });\r\n    }\r\n    else {\r\n      this.setState({\r\n      boardState: WSBoardState,\r\n      stepNumber: stepCurrent+1,\r\n      nextPlayer: \"X\"\r\n      }); \r\n    }\r\n  }\r\n\r\n  jumpTo(step) {\r\n    this.setState({\r\n      boardState: {squares: Array(9).fill(null)},\r\n      stepNumber: step,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const moves = <button onClick={() => this.jumpTo(0)}>Go to game start</button>\r\n    let status;\r\n    let current = this.state.boardState;\r\n    if (this.props.roomData.status === \"FINISHED\") {\r\n      status = \"Winner: \" + this.props.roomData.winner;\r\n    } else {\r\n      status = \"Next player: \" + (this.props.roomData.nextPlayer);\r\n    }\r\n\r\n    return (\r\n      <div className=\"game\">\r\n        { this.props.roomData.status === \"FINISHED\" ? \r\n          <p>Finished</p>:\r\n          <div className=\"game-board\">\r\n            <br></br>\r\n            <br></br>\r\n            <Board\r\n              squares={current}\r\n              onClick={i => this.handleClick(i)}\r\n            />\r\n            <br></br>\r\n          </div>\r\n        }\r\n        <div className=\"game-info\">\r\n          <br></br>\r\n          <br></br>\r\n          <div>{status}</div>\r\n            <br></br>\r\n          <div>{moves}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.gameSession, //ew movies: state.movies,\r\n  userSession: {\r\n    ...state.userSession,\r\n  },\r\n  joinedRoom: {\r\n    ...state.gameSession.roomData.joinedRoom,\r\n  }\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  matchesUnloaded: () => dispatch(actions.matchesUnloaded()),\r\n  loadMatches: matches => dispatch(actions.loadMatches(matches)),\r\n  fullLoadMatch: () => dispatch(actions.fullLoadMatch()),\r\n  joinMatch: (roomID, players, maxPlayers) => dispatch(actions.joinMatch(roomID, players, maxPlayers)),\r\n  matchNotJoined: () => dispatch(actions.matchNotJoined()),\r\n  gameStatus: (state, winnerMark) => dispatch(actions.gameStatus(state, winnerMark)),\r\n  updateBoardState: (boardState) => dispatch(actions.updateBoardState(boardState)),\r\n  nextPlayer: (nextPlayer) => dispatch(actions.nextPlayer(nextPlayer)),\r\n  setMark: (mark) => dispatch(actions.setMark(mark))\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Tictactoe));\r\n\r\n  \r\nfunction calculateWinner(squares) {\r\nconst lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6]\r\n];\r\nfor (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if (squares[a] !== \"-\" && squares[b] !== \"-\" && squares[c] !== \"-\" ) {\r\n      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n        return squares[a];\r\n      }\r\n    }\r\n}\r\nreturn null;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  ","export const API_BASE = \"https://kowalikov.github.io/board-games-frontend/\"\r\n//export const API_BASE = \"http://localhost:5000\"\r\nexport const WS_BASE = \"wss://boardgames1.herokuapp.com/ws/match/\"","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport Room from './Room/Room';\r\nimport WebSocketProvider from '../Games/tictactoe/WebSockets/WebSocket'\r\n//import Warcaby from '../Games/warcaby/warcaby'\r\nimport Szachy from '../Games/szachy/szachy'\r\nimport Tictactoe from '../Games/tictactoe/tictactoe'\r\n///import './GameMatching.css';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from 'react-redux'\r\nimport actions from '../../duck/actions'\r\n\r\n\r\nclass GameMatching extends Component {\r\n\r\n  loadMatchesFromServer() {\r\n    this.props.matchesUnloaded()\r\n    var num = this.props.games.id\r\n    //console.log(num)\r\n    //let gameURL = \"/\"+ this.props.name='https://cors-anywhere.herokuapp.com/https://boardgames1.herokuapp.com/games/?fbclid=IwAR37IdjpLC4RmLuN1wSehM1DtarmIavEGkcy7SMh-kf_lsIEVp0r3DeyaXY'\r\n    let gameURL = \"https://boardgames1.herokuapp.com/matches/\"+ num.toString()\r\n    axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest'\r\n    axios.get(gameURL)\r\n      .then(response => {\r\n        this.props.loadMatches(response.data.matches);\r\n        var i1;\r\n        var i2;\r\n        let tempJoinedMatch=false\r\n        //console.log(response.data)\r\n        for (i1=0;i1<response.data.matches.length;i1++){\r\n          for (i2=0;i2<response.data.matches[i1].players.length; i2++){  \r\n            if (response.data.matches[i1].players[i2].userId===this.props.userSession.userData.userID) {\r\n              this.props.joinMatch(\r\n                response.data.matches[i1].id,\r\n                response.data.name,\r\n                response.data.id,\r\n                response.data.matches[i1].players,\r\n                response.data.matches[i1].maxPlayers\r\n              );\r\n              tempJoinedMatch=true;\r\n              //console.log(\"LoadMatchesFromServer init: true\",response.data.name)\r\n              this.props.initGame(response.data.name, response.data.id);\r\n            }\r\n          }\r\n        }\r\n        if (tempJoinedMatch===false) {\r\n          this.props.initGame(this.props.games.name, this.props.games.id)\r\n        }\r\n        this.props.fullLoadMatch();\r\n      });\r\n    }\r\n\r\n  componentDidMount() {\r\n    this.loadMatchesFromServer();\r\n  }\r\n\r\n\r\n  game() {\r\n    if (this.props.gameData.gameID===1){\r\n      return (\r\n      //<WebSocketProvider>\r\n        <Tictactoe/>\r\n      //</WebSocketProvider>\r\n      )\r\n    }\r\n    else{ //jak się przyjmie to przenieść tutaj provider\r\n        return  <Szachy/>   \r\n    }\r\n  }\r\n\r\n  testWebsocket() {\r\n    console.log(\"Sprawdzam ostatni stan\")\r\n    this.state.ws.sendMessage({\r\n      username: this.props.userSession.userData.username,\r\n      state: { \"boardState\": \"--------X\"}\r\n    })\r\n    console.log(\"State from the store: \", this.props.roomData.boardState)\r\n  }\r\n  testMatch() {\r\n    var num = this.props.roomData.joinedRoom;\r\n    //console.log(num)\r\n    //let gameURL = \"/\"+ this.props.name='https://cors-anywhere.herokuapp.com/https://boardgames1.herokuapp.com/games/?fbclid=IwAR37IdjpLC4RmLuN1wSehM1DtarmIavEGkcy7SMh-kf_lsIEVp0r3DeyaXY'\r\n    let gameURL = \"https://boardgames1.herokuapp.com/roomdetail/\"+ num.toString()\r\n    axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest'\r\n    axios.get(gameURL)\r\n      .then(response => {\r\n       console.log(\"TestMatch info: \", response.data)\r\n      });\r\n  }\r\n    \r\n    \r\n  clickedCreateRoom(event){\r\n    let roomURL='https://boardgames1.herokuapp.com/creatematch/'\r\n    const article = {\r\n        \"game\": this.props.gameData.gameID,\r\n        \"maxPlayers\": 2};\r\n\r\n    async function postData(url = '', data = {}) {\r\n      const response = await fetch(url, {\r\n        method: 'POST', \r\n        mode: 'cors', \r\n        cache: 'no-cache', \r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          },\r\n        body: JSON.stringify(data) \r\n      });\r\n      return response; \r\n    }\r\n    \r\n    postData(roomURL, article).then(\r\n      response => { console.log(response.status);\r\n        if( response.status === 201){\r\n        console.log(\"Created\");\r\n        this.loadMatchesFromServer()\r\n      }\r\n      else if (response.status === 500){\r\n        window.alert(\"You are already in room\");\r\n      }\r\n      else{\r\n        console.log(\"Problem z łącznością z serwerem\");\r\n        window.alert(\"Problem z łącznością z serwerem\")\r\n      }\r\n    });\r\n  }\r\n\r\n  clickedLeave() {\r\n    let roomURL='https://boardgames1.herokuapp.com/leave-match/'+this.props.userSession.userData.userID.toString()\r\n    const article = {\r\n        \"userId\": this.props.userSession.userData.userID,\r\n        \"matchId\": this.props.roomData.joinedRoom\r\n      };\r\n    \r\n    console.log('Leave match of user:', article)\r\n\r\n    async function postData(url = '', data = {}) {\r\n      const response = await fetch(url, {\r\n        method: 'DELETE',\r\n        mode: 'cors', \r\n        cache: 'no-cache',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          },\r\n        body: JSON.stringify(data) \r\n      });\r\n      return response; \r\n    }\r\n    \r\n    postData(roomURL, article).then(\r\n      response => {\r\n        if( response.status === 204){\r\n        console.log(\"Room left: \", response.status);\r\n        this.loadMatchesFromServer()\r\n        this.props.matchNotJoined();\r\n      }\r\n      else if (response.status === 500){\r\n        window.alert(\"You are in no room\");\r\n      }\r\n      else{\r\n        console.log(\"Problem z łącznością z serwerem\");\r\n        window.alert(\"Problem z łącznością z serwerem\")\r\n      }\r\n    \r\n    });\r\n  }\r\n\r\n  render() {\r\n    //gotowy skopiowany kod z App.js do wylistowania matchy i dołączenia do nich\r\n    //dodać zmianę stanu pokoi na kliknięcie\r\n    //dołączenie i dopiero potem renderowanie gry\r\n    //zrobić to zmienną joinedMatch w stanie klasy w tym pliku\r\n    \r\n    let matchesList\r\n    if (this.props.sessionMetadata.matchesListLoaded) {\r\n      matchesList = this.props.roomData.matches.map((room, index) => { \r\n        return <Room\r\n          gameId={this.props.gameData.gameID} \r\n          id={room.id}\r\n          key={index}\r\n          datakey={index}\r\n          maxPlayers={room.maxPlayers}\r\n          players={room.players}\r\n          />;\r\n      });\r\n    }\r\n\r\n    return(\r\n        <div className=\"GameMatching\">\r\n          { (this.props.sessionMetadata.matchesListLoaded)===false && <h2>Loading room...</h2>\r\n          }\r\n          { this.props.sessionMetadata.matchesListLoaded && this.props.sessionMetadata.isMatchJoined && this.props.sessionMetadata.fullDataLoaded && this.props.gameData.gameID===this.props.roomData.joinedGameID && typeof this.props.roomData.activePlayers!== 'undefined' ? \r\n            <div className=\"Room\">\r\n              <br></br>\r\n              <button className=\"button button1\" onClick={(event) => this.clickedLeave(event)} > Leave</button>\r\n              <p>\r\n                Room #{this.props.roomData.joinedRoom} | \r\n                players: [{this.props.roomData.activePlayers.length}/{this.props.roomData.maxPlayers}]</p>\r\n              <div>\r\n                {this.game()}\r\n                <button className=\"WebsocketTest\" onClick={(event) => this.testWebsocket()}>Test WebSocket</button>\r\n                <button className=\"MatchTest\" onClick={(event) => this.testMatch()}>Get Match info</button>\r\n              </div> \r\n              <br></br>\r\n            </div>:\r\n            <div>\r\n              {this.props.sessionMetadata.matchesListLoaded && this.props.sessionMetadata.isMatchJoined && this.props.sessionMetadata.fullDataLoaded && this.props.gameData.gameID!==this.props.roomData.joinedGameID ?\r\n              <p>You are already in the game</p>:<br></br>}\r\n            </div>\r\n          }\r\n          { this.props.sessionMetadata.matchesListLoaded && !this.props.sessionMetadata.isMatchJoined ? \r\n            <div>\r\n              <button className=\"button Create-Room\" onClick={(event) => this.clickedCreateRoom(event)} >Create room</button>\r\n              <br></br>\r\n              {matchesList}\r\n            </div>:<p></p>\r\n          }\r\n        </div>\r\n    )\r\n\r\n  }\r\n\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.gameSession, //ew movies: state.movies,\r\n  userSession: {\r\n    ...state.userSession,\r\n  },\r\n})\r\n\r\n\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  matchesUnloaded: () => dispatch(actions.matchesUnloaded()),\r\n  loadMatches: matches => dispatch(actions.loadMatches(matches)),\r\n  fullLoadMatch: () => dispatch(actions.fullLoadMatch()),\r\n  joinMatch: (roomID, roomGameName, roomGameID, players, maxPlayers) => dispatch(actions.joinMatch(roomID, roomGameName, roomGameID, players, maxPlayers)),\r\n  matchNotJoined: () => dispatch(actions.matchNotJoined()),\r\n  initGame: (gameName, gameID) => dispatch(actions.initGame(gameName, gameID)),\r\n  updateBoardState: (boardState) => dispatch(actions.updateBoardState(boardState)),\r\n  gameStatus: (status, winnerMark) => dispatch(actions.gameStatus(status, winnerMark)),\r\n  nextPlayer: (nextPlayer) => dispatch(actions.nextPlayer(nextPlayer))\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(GameMatching));","import React, {Component} from 'react';\r\nimport './LogPanel.css'\r\n\r\nclass LogPanel extends Component {\r\n\r\n  render (){\r\n    const loading=this.props.submitting  \r\n    return (\r\n      <div className=\"LogPanel\">\r\n          <p>Username:</p>\r\n          <input type= \"text\" onChange={this.props.changedUsername} onKeyPress={this.props.enterLogin} />\r\n          {/*<p>Password:</p>\r\n          <input type= \"password\" onChange={props.changedPassword} />*/}\r\n          <br></br>\r\n          <br></br>\r\n          \r\n          <button className=\"loginButton\" onClick={this.props.submit} disabled={loading}>\r\n          {loading && (<i\r\n                className=\"fa fa-refresh fa-spin\"\r\n                style={{ marginRight: \"5px\" }}\r\n              />\r\n            )}\r\n            {loading && <span>Logging in</span>}\r\n            {!loading && <span>Log in</span>}\r\n          </button>\r\n          {this.props.wrongLoginData===true && <p style={{color:'red'}}>Wrong login data</p>}\r\n          <br></br>\r\n          <br></br>\r\n          <button className=\"gotoRegisterButton\" onClick={this.props.gotoRegister} >\r\n          Sign in\r\n          </button>\r\n          <p>{this.props.children}</p>\r\n      </div>\r\n      );\r\n  }\r\n};\r\n\r\nexport default LogPanel;","import React, {Component} from 'react';\r\nimport './RegistrationPanel.css'\r\n\r\nclass RegistrationPanel extends Component {\r\n  _handleKeyDown = (e) => {\r\n      if (e.key === 'Enter') {\r\n        return (this.props.register) \r\n      } \r\n  }\r\n  render(){\r\n    const loading=this.props.submitting\r\n\r\n    return (\r\n      <div className=\"RegistrationPanel\">\r\n          <p>Username:</p>\r\n          <input type= \"text\" onChange={this.props.changedUsername} onKeyPress={this.props.enterRegister} />\r\n          {/*<p>Password:</p>\r\n          <input type= \"password\" onChange={this.props.changedPassword} />*/}\r\n          <br></br>\r\n          <br></br>\r\n          <button className=\"registrationButton\" onClick={this.props.register}  disabled={loading}>\r\n          {loading && (<i\r\n                className=\"fa fa-refresh fa-spin\"\r\n                style={{ marginRight: \"5px\" }}\r\n              />\r\n            )}\r\n            {loading && <span>Registering</span>}\r\n            {!loading && <span>Register</span>}\r\n          </button>\r\n          {this.props.unavaliableUsername===true && <p style={{color:'red'}}>That username is unavaliable</p>}\r\n          <br></br>\r\n          <br></br>\r\n          <button className=\"gotoLoginButton\" onClick={this.props.gotoLogin} >\r\n          Login screen\r\n          </button>\r\n          <p>{this.props.children}</p>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default RegistrationPanel;","import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport {connect} from 'react-redux'\r\nimport actions from '../../duck/actions'\r\nimport gameActions from '../../../game/duck/actions'\r\nimport './Cockpit.css'\r\nimport Game from '../../../game/components/Game/Game';\r\nimport GameMatching from '../../../game/components/GamesMatching/GameMatching'\r\nimport LogPanel from '../LogPanel/LogPanel';\r\nimport RegistrationPanel from '../RegistrationPanel/RegistrationPanel'\r\n\r\nclass Cockpit extends Component {\r\n  \r\n  componentDidMount() {\r\n    //console.log(\"props\", this.props)\r\n    this.loadGamesFromServer()\r\n    this.loadUsersFromServer()\r\n  }\r\n  componentDidUpdate() {\r\n    document.title = `${this.props.gameSession.gameData.gameName}`\r\n\r\n  }\r\n\r\n  loadGamesFromServer() {\r\n    let uGamesList='https://boardgames1.herokuapp.com/games/?fbclid=IwAR37IdjpLC4RmLuN1wSehM1DtarmIavEGkcy7SMh-kf_lsIEVp0r3DeyaXY'\r\n    axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest'\r\n    axios.get(uGamesList)\r\n      .then(response => {\r\n        this.props.loadGames(response.data);\r\n      });\r\n  }\r\n\r\n  loadUsersFromServer(login=false) {\r\n    let uLog='https://boardgames1.herokuapp.com/register/'\r\n    axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest'\r\n    axios.get(uLog)\r\n      .then(response => {\r\n        this.props.loadUsers(response.data);\r\n        if (login===true) {\r\n          const username = this.props.userData.username;\r\n          console.log(username, response.data);\r\n          let loggedTemp=false;\r\n          response.data.map(user => { \r\n            if (username===user.username){\r\n              this.props.setLoggedIn()\r\n              this.props.setID(user.id)\r\n              loggedTemp = true\r\n            }\r\n          });\r\n          if (loggedTemp===false) {\r\n            this.props.failedLogin()\r\n          }  \r\n            \r\n        }\r\n      });\r\n  }\r\n\r\n  submitRegisterHandler() {\r\n    let uReg='https://boardgames1.herokuapp.com/register/'\r\n    const article = {\"username\": this.props.userData.username};\r\n\r\n    async function postData(url = '', data = {}) {\r\n      const response = await fetch(url, {\r\n        method: 'POST', \r\n        mode: 'cors', \r\n        cache: 'no-cache', \r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          },\r\n        body: JSON.stringify(data) \r\n      });\r\n      return response; \r\n    }\r\n    \r\n    postData(uReg, article).then(\r\n      response => { console.log(response.status);\r\n        if( response.status === 201){ \r\n        console.log(\"Zarejestrowany\");\r\n        this.props.setRegistered(response.data);\r\n        this.loadUsersFromServer(true);\r\n      }\r\n      else if (response.status === 400){\r\n        console.log(\"Zła nazwa\");\r\n        this.props.unavaliableUsername();\r\n      }\r\n      else{ \r\n        console.log(\"Problem z łącznością z serwerem\");\r\n        this.props.failedRegistration();\r\n      }\r\n    });\r\n  }\r\n  \r\n  submitLoginHandler() {\r\n    const username = this.props.userData.username;    \r\n    let loggedTemp=false;\r\n    this.props.sessionData.users.map(user => { \r\n      if (username===user.username){\r\n        this.props.setLoggedIn()\r\n        this.props.setID(user.id)\r\n        loggedTemp=true\r\n      }\r\n    });\r\n    if (loggedTemp===false) {\r\n      this.props.failedLogin()\r\n    }\r\n  }\r\n\r\n  enterRegisterHandler(event) {\r\n    if (event.charCode === 13){\r\n      this.submitRegisterHandler();\r\n    }\r\n  }\r\n  \r\n  enterLoginHandler(event) {\r\n    if (event.charCode === 13){\r\n      this.submitLoginHandler();\r\n    }\r\n  }\r\n\r\n  GameMatcher(gamesParams) {\r\n    return <GameMatching games={gamesParams}/>\r\n  }\r\n\r\n  render () {\r\n\r\n    const style = {\r\n      color: '#0D0A0B',\r\n    };\r\n\r\n    const games = this.props.sessionData.games.map((game, index) => { \r\n        return <Game \r\n          name={game.name}\r\n          key={game.id}\r\n          playersNumber={game.playersNumber}\r\n          img={game.imgUrl}\r\n          />;\r\n    });\r\n\r\n    /*const switchToGames = this.props.sessionData.games.map((game, index) => { \r\n        return(\r\n          <Switch>\r\n            <Route path={game.name} exact component={game.name}/>\r\n          </Switch>\r\n        )\r\n    });*/\r\n\r\n    if (this.props.loginMetadata.gamesListLoaded===false || this.props.loginMetadata.usersLoaded===false ) { \r\n      return <div>Loading...</div>;\r\n    }\r\n    else if(this.props.loginMetadata.wantRegister===false && this.props.loginMetadata.isRegistered===false && this.props.loginMetadata.isLogged===false){ \r\n      return(\r\n        <div className=\"App\">\r\n          <h1 style={style} >Hi, welcome to BoardGames!</h1>\r\n          <LogPanel\r\n          changedUsername={(event)=> this.props.changeUsername(event.target.value)}\r\n          //changedPassword={(event)=> this.props.changePassword(event.target.value)} \r\n          submit={() =>this.submitLoginHandler()} \r\n          enterLogin={(event) => this.enterLoginHandler(event)}\r\n          submitting={this.props.loginMetadata.loading}\r\n          gotoRegister={() => this.props.gotoRegister()} \r\n          wrongLoginData={this.props.loginMetadata.wrongLoginData} \r\n          ></LogPanel> \r\n        </div>\r\n      );\r\n    }\r\n    else if (this.props.loginMetadata.wantRegister===true && this.props.loginMetadata.isLogged===false && this.props.loginMetadata.isRegistered===false ) { \r\n      return(\r\n        <div className=\"App\">\r\n          <h1 style={style} >Hi, welcome to BoardGames!</h1>\r\n          <RegistrationPanel\r\n          changedUsername={(event)=> this.props.changeUsername(event.target.value)} \r\n          //changedPassword={(event)=> this.props.changePassword(event.target.value)}\r\n          register={(event) =>this.submitRegisterHandler()} \r\n          enterRegister={(event) => this.enterRegisterHandler(event)}\r\n          submitting={this.props.loginMetadata.loading}\r\n          gotoLogin={() => this.props.gotoLogin()} \r\n          unavaliableUsername={this.props.loginMetadata.unavaliableUsername} \r\n          ></RegistrationPanel>\r\n        </div>\r\n      );\r\n    }\r\n    else{\r\n      ///const isMatched = \r\n      return (\r\n          <div className=\"App\">\r\n            <h1 style={style} >Hi {this.props.userData.username}, welcome to BoardGames!</h1>\r\n            <Link to={'/games'} onClick={() => {this.props.initGame('BoardGames', null);}}> Go to games </Link>\r\n            <h2> </h2>\r\n            <Switch>\r\n              <Route path={\"/games\"}>{games}</Route>\r\n              <Route path={\"/Warcaby\"}>{this.GameMatcher(this.props.sessionData.games[0])}</Route>\r\n              <Route path={\"/Szachy\"}>{this.GameMatcher(this.props.sessionData.games[1])}</Route>\r\n              <Route path={\"/tictactoe\"}>{this.GameMatcher(this.props.sessionData.games[0])}</Route>\r\n            </Switch>\r\n          </div>\r\n    );\r\n    }  \r\n  }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  ...state.userSession, //ew movies: state.movies,\r\n  gameSession: {\r\n    ...state.gameSession,\r\n  }\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  changeUsername: username => dispatch(actions.changeUsername(username)),\r\n  setID: id => dispatch(actions.setID(id)),\r\n  changePassword: password => dispatch(actions.changePassword(password)),\r\n  gotoRegister: () => dispatch(actions.gotoRegister()),\r\n  gotoLogin: () => dispatch(actions.gotoLogin()),\r\n  setLoggedIn: () => dispatch(actions.setLoggedIn()),\r\n  failedLogin: () => dispatch(actions.failedLogin()),\r\n  setRegistered: () => dispatch(actions.setRegistered()),\r\n  unavaliableUsername: () => dispatch(actions.unavaliableUsername()),\r\n  failedRegistration: () => dispatch(actions.failedRegistration()),\r\n  loadGames: games => dispatch(actions.loadGames(games)),\r\n  loadUsers: users => dispatch(actions.loadUsers(users)),\r\n  initGame: (gameName, gameID) => dispatch(gameActions.initGame(gameName, gameID)),\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cockpit) //nie wiadomo czy zadziała","import React, { Component } from 'react';\r\nimport Cockpit from './app/user/components/Cockpit/Cockpit'\r\n\r\n\r\nclass App extends Component {\r\n  render () {\r\n    return(\r\n      <div className=\"App\">\r\n        <Cockpit/>\r\n      </div>\r\n    )    \r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import types from './types';\r\n\r\nconst INITIAL_STATE = {\r\n    userData: {\r\n      username : null,\r\n      userID: null,\r\n      password : null,\r\n    },\r\n    loginMetadata: {\r\n      isLogged : false,\r\n      isRegistered: false,\r\n      wantRegister : false,\r\n      loading : false,\r\n      wrongLoginData : false,\r\n      unavaliableUsername : false,\r\n      usersLoaded : false,\r\n      gamesListLoaded : false,\r\n    },\r\n    sessionData: {\r\n      games:[],\r\n      users:[],\r\n    }\r\n}\r\n\r\nconst userReducer = (state = INITIAL_STATE, action ) => { \r\n  switch (action.type){\r\n    case types.CHANGE_USERNAME: \r\n      return {\r\n        ...state, \r\n        userData: {\r\n          ...state.userData, \r\n          username: action.username\r\n        }\r\n      }\r\n    case types.SET_ID:\r\n      return {\r\n        ...state,\r\n        userData: {\r\n          ...state.userData,\r\n          userID: action.userID\r\n        }\r\n      }\r\n    case types.CHANGE_PASSWORD: \r\n      return {     \r\n        ...state,\r\n        userData: {\r\n          ...state.userData, \r\n          password: action.password\r\n        }\r\n      }\r\n    case types.GOTO_REGISTER:\r\n      return {\r\n        ...state,\r\n        loginMetadata: {\r\n          ...state.loginMetadata,\r\n          wantRegister: true,\r\n        }\r\n      }\r\n    case types.GOTO_LOGIN:\r\n      return {\r\n        ...state,\r\n        loginMetadata: {\r\n          ...state.loginMetadata,\r\n          wantRegister: false,\r\n        }\r\n      }\r\n    case types.SET_LOGGED_IN: {\r\n      return {\r\n        ...state,\r\n        loginMetadata: {\r\n          ...state.loginMetadata,\r\n          loading: false, //CO Z TYM?\r\n          isLogged: true,\r\n          wrongLoginData: false,\r\n        }\r\n      }\r\n    }\r\n    case types.FAILED_LOGIN: {\r\n      return {\r\n        ...state,\r\n        loginMetadata: {\r\n          ...state.loginMetadata,\r\n          loading: false, //CO Z TYM?\r\n          wrongLoginData: true,\r\n        }\r\n      }\r\n    }\r\n    case types.SET_REGISTERED:\r\n      return {\r\n        ...state,\r\n        loginMetadata: {\r\n          ...state.loginMetadata,\r\n          usersLoaded:true,\r\n          isLogged: true,\r\n          unavaliableUsername : false,\r\n          isRegistered: true,\r\n        }\r\n      }\r\n    case types.UNAVALIABLE_USERNAME:\r\n      return {\r\n        ...state,\r\n        loginMetadata: {\r\n          ...state.loginMetadata,\r\n          isLogged: false,\r\n          unavaliableUsername : true,\r\n          isRegistered: false,\r\n        }\r\n      }\r\n    case types.FAILED_REGISTRATION:\r\n      return {\r\n        ...state,\r\n        loginMetadata: {\r\n          ...state.loginMetadata,\r\n          isLogged: false,\r\n          unavaliableUsername : false,\r\n          isRegistered: false,\r\n        }\r\n      }\r\n    case types.LOAD_GAMES: \r\n      return {     \r\n        ...state,\r\n        loginMetadata: {\r\n          ...state.loginMetadata,\r\n          gamesListLoaded: true,\r\n        },\r\n        sessionData: {\r\n          ...state.sessionData, \r\n          games: action.games,\r\n        }\r\n      }\r\n    case types.LOAD_USERS: \r\n      return {     \r\n        ...state,\r\n        loginMetadata: {\r\n          ...state.loginMetadata,\r\n          usersLoaded: true,\r\n        },\r\n        sessionData: {\r\n          ...state.sessionData, \r\n          users: action.users,\r\n        }\r\n      }\r\n    default:\r\n        return state\r\n  }\r\n}\r\n\r\nexport default userReducer ","import userReducer from './reducers'\r\nexport {default as userTypes} from './types'\r\nexport {default as userActions} from './actions'\r\nexport default userReducer\r\n","import types from './types';\r\n\r\nconst INITIAL_STATE = {\r\n    gameData: {\r\n      gameName:'BoardGames', \r\n      gameID:null,\r\n    },\r\n    sessionMetadata: {\r\n      isMatchJoined:false,\r\n      fullDataLoaded:false,\r\n      matchesListLoaded:false,\r\n    },\r\n    roomData: {\r\n      joinedGameName: null,\r\n      joinedGameID: 0,\r\n      matches:[],\r\n      joinedRoom: null,\r\n      activePlayers: [],\r\n      maxPlayers:null,\r\n      boardState: [],\r\n      myMark: null,\r\n      nextPlayer: null,\r\n      status: \"\",\r\n      winner: null,\r\n    }\r\n}\r\n\r\nconst gameReducer = (state = INITIAL_STATE, action ) => { \r\n  switch (action.type){\r\n    case types.MATCHES_UNLOADED:\r\n      return {\r\n        ...state,\r\n        sessionMetadata: {\r\n          ...state.sessionMetadata,\r\n          matchesListLoaded: false,\r\n          fullDataLoaded: false\r\n        }\r\n      }\r\n    case types.LOAD_MATCHES: \r\n      return {\r\n        ...state, \r\n        roomData: {\r\n          ...state.roomData, \r\n          matches: action.matches,\r\n        },\r\n        sessionMetadata: {\r\n          ...state.sessionMetadata,\r\n          matchesListLoaded: true,\r\n          //fullDataLoaded: true,\r\n        }\r\n      }\r\n    case types.FULL_LOAD_MATCH:\r\n      return {\r\n        ...state, \r\n        sessionMetadata: {\r\n          ...state.sessionMetadata,\r\n          fullDataLoaded: true,\r\n        }\r\n      }\r\n    case types.JOIN_MATCH: \r\n      return {     \r\n        ...state,\r\n        roomData: {\r\n          ...state.roomData,\r\n          joinedGameName: action.roomGameName,\r\n          joinedGameID: action.roomGameID, \r\n          joinedRoom: action.roomID,//\r\n          activePlayers: action.players,//\r\n          maxPlayers: action.maxPlayers,//\r\n        },\r\n        sessionMetadata: {\r\n          ...state.sessionMetadata,\r\n          isMatchJoined: true,\r\n        }\r\n      }\r\n    case types.MATCH_NOT_JOINED: \r\n      return { \r\n        ...state,\r\n        sessionMetadata: {\r\n          ...state.sessionMetadata,\r\n          isMatchJoined: false,\r\n          fullDataLoaded: false,\r\n        },\r\n        roomData: {\r\n          ...state.roomData,\r\n          joinedRoom: null,\r\n          activePlayers: [],\r\n          maxPlayers:null,\r\n          boardState: [],\r\n        }\r\n      }\r\n    case types.INIT_GAME: \r\n      return {\r\n        ...state,\r\n        gameData: {\r\n          gameName: action.gameName,\r\n          gameID: action.gameID,\r\n        }\r\n      }\r\n    case types.UPDATE_BOARDSTATE:\r\n      return {\r\n        ...state,\r\n        roomData: {\r\n          ...state.roomData,\r\n          boardState: action.boardState,\r\n        }\r\n      }\r\n    case types.GAME_STATUS:\r\n      return { \r\n        ...state,\r\n        roomData: {\r\n          ...state.roomData,\r\n          status: action.status,\r\n          winner: action.winnerMark,\r\n        }\r\n      }\r\n    case types.NEXT_PLAYER:\r\n    return { \r\n      ...state,\r\n      roomData: {\r\n        ...state.roomData,\r\n        nextPlayer: action.nextPlayer,\r\n      }\r\n    }\r\n    case types.SET_MARK:\r\n    return { \r\n      ...state,\r\n      roomData: {\r\n        ...state.roomData,\r\n        myMark: action.mark,\r\n      }\r\n    }\r\n    default:\r\n        return state\r\n  }\r\n}\r\n\r\nexport default gameReducer ","import gameReducer from './reducers'\r\nexport {default as gameTypes} from './types'\r\nexport {default as gameActions} from './actions'\r\nexport default gameReducer\r\n","import {combineReducers} from 'redux';\r\nimport userReducer from './app/user/duck/index';\r\nimport gameReducer from './app/game/duck/index';\r\n\r\nconst rootReducer = combineReducers ({\r\n    userSession: userReducer,\r\n    gameSession: gameReducer,\r\n})\r\n\r\nexport default rootReducer\r\n","import {createStore} from 'redux';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport rootReducer from './reducers';\r\nimport * as actionCreators from \"./app/user/duck/index\";\r\n\r\n\r\nconst composeEnhancers = composeWithDevTools({ \r\n  actionCreators, \r\n  trace: true, \r\n  traceLimit: 25 \r\n}); \r\n\r\nconst store = createStore(rootReducer, composeEnhancers())\r\n\r\nexport default store\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport {Provider} from 'react-redux';\r\nimport store from './store';\r\n\r\nconst app = (\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <BrowserRouter>\r\n                <App/>\r\n            </BrowserRouter>\r\n        </Provider>\r\n  </React.StrictMode>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}
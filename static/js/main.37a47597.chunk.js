(this["webpackJsonpboard-games-frontend"]=this["webpackJsonpboard-games-frontend"]||[]).push([[0],{20:function(e,t,a){e.exports=a(46)},25:function(e,t,a){},27:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(18),i=a.n(r),o=(a(25),a(7)),l=a(8),c=a.n(l),u=a(19),m=a(2),g=a(3),d=a(5),h=a(4),p=(a(27),function(e){return s.a.createElement("div",{className:"Game"},s.a.createElement("p",{onClick:e.click},"I'm ",e.name," and number of players is: ",e.playersNumber),s.a.createElement("img",{src:e.img,alt:""}),s.a.createElement("p",null,e.children))}),f=a(6),b=a.n(f),v=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props.submitting;return s.a.createElement("div",{className:"LogPanel"},s.a.createElement("p",null,"Username:"),s.a.createElement("input",{type:"text",onChange:this.props.changedUsername,onKeyPress:this.props.enterLogin}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("button",{className:"loginButton",onClick:this.props.submit,disabled:e},e&&s.a.createElement("i",{className:"fa fa-refresh fa-spin",style:{marginRight:"5px"}}),e&&s.a.createElement("span",null,"Logging in"),!e&&s.a.createElement("span",null,"Log in")),!0===this.props.wrongLoginData&&s.a.createElement("p",{style:{color:"red"}},"Wrong login data"),s.a.createElement("p",null,this.props.children))}}]),a}(n.Component),y=(a(45),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s)))._handleKeyDown=function(t){if("Enter"===t.key)return e.props.register},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this.props.submitting;return s.a.createElement("div",{className:"RegistrationPanel"},s.a.createElement("p",null,"Username:"),s.a.createElement("input",{type:"text",onChange:this.props.changedUsername,onKeyPress:this.props.enterRegister}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("button",{className:"registrationButton",onClick:this.props.register,disabled:e},e&&s.a.createElement("i",{className:"fa fa-refresh fa-spin",style:{marginRight:"5px"}}),e&&s.a.createElement("span",null,"Registering"),!e&&s.a.createElement("span",null,"Register")),!0===this.props.unavaliableUsername&&s.a.createElement("p",{style:{color:"red"}},"That username is unavaliable"),s.a.createElement("p",null,this.props.children),s.a.createElement("button",{className:"gotoLoginButton",onClick:this.props.gotoLogin},"Login screen"))}}]),a}(n.Component)),E=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={games:[],users:[],usersLoaded:!1,gamesListLoaded:!1,isLogged:!1,isRegistered:!1,wantRegister:!0,username:null,password:null,loading:!1,wrongLoginData:!1,unavaliableUsername:!1},n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",b.a.get("https://cors-anywhere.herokuapp.com/http://boardgames1.herokuapp.com/games/?fbclid=IwAR37IdjpLC4RmLuN1wSehM1DtarmIavEGkcy7SMh-kf_lsIEVp0r3DeyaXY").then((function(t){e.setState({games:t.data,gamesListLoaded:!0})}));b.a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",b.a.get("https://boardgames1.herokuapp.com/register/").then((function(t){e.setState({users:t.data,usersLoaded:!0})}))}},{key:"enterRegisterHandler",value:function(e){13===e.charCode&&this.submitRegisterHandler()}},{key:"submitRegisterHandler",value:function(e){var t=this;function a(){return(a=Object(u.a)(c.a.mark((function e(){var t,a,n,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",a=s.length>1&&void 0!==s[1]?s[1]:{},e.next=4,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return a.apply(this,arguments)})("https://boardgames1.herokuapp.com/register/",{username:this.state.username}).then((function(e){console.log(e.status),201===e.status?(console.log("Zarejestrowany"),t.setState({usersLoaded:!0,isLogged:!0,unavaliableUsername:!1,isRegistered:!0})):400===e.status?(t.setState({unavaliableUsername:!0}),console.log("Z\u0142a nazwa")):console.log("Problem z \u0142\u0105czno\u015bci\u0105 z serwerem")}))}},{key:"enterLoginHandler",value:function(e){13===e.charCode&&this.submitLoginHandler()}},{key:"submitLoginHandler",value:function(e){var t=this;this.setState({loading:!0});var a=this.state.username;this.state.users.map((function(e){a===e.username&&(t.setState({loading:!1}),t.setState({isLogged:!0}),t.setState({wrongLoginData:!1}))})),!1===this.state.isLogged&&(this.setState({loading:!1}),this.setState({wrongLoginData:!0}))}},{key:"usernameChangeHandler",value:function(e){var t=Object(o.a)({},this.state);t.username=e.target.value,this.setState({username:t.username})}},{key:"passwordChangeHandler",value:function(e){var t=Object(o.a)({},this.state);t.password=e.target.value,this.setState({password:t.password})}},{key:"gotoLoginHandler",value:function(e){var t=Object(o.a)({},this.state);t.wantRegister=!1,this.setState({wantRegister:t.wantRegister})}},{key:"render",value:function(){var e=this,t={color:"#0D0A0B"},a=this.state.games.map((function(e,t){return s.a.createElement(p,{name:e.name,key:e.id,playersNumber:e.playersNumber,img:e.imgUrl})}));return!1===this.state.wantRegister&&!1===this.state.isRegistered&&!1===this.state.isLogged?s.a.createElement("div",{className:"App"},s.a.createElement("h1",{style:t},"Hi, welcome to BoardGames!"),s.a.createElement(v,{changedUsername:function(t){return e.usernameChangeHandler(t)},submit:function(t){return e.submitLoginHandler(t)},enterLogin:function(t){return e.enterLoginHandler(t)},submitting:this.state.loading,wrongLoginData:this.state.wrongLoginData})):!0===this.state.wantRegister&&!1===this.state.isLogged&&!1===this.state.isRegistered?s.a.createElement("div",{className:"App"},s.a.createElement("h1",{style:t},"Hi, welcome to BoardGames!"),s.a.createElement(y,{changedUsername:function(t){return e.usernameChangeHandler(t)},register:function(t){return e.submitRegisterHandler(t)},enterRegister:function(t){return e.enterRegisterHandler(t)},submitting:this.state.loading,gotoLogin:function(t){return e.gotoLoginHandler(t)},unavaliableUsername:this.state.unavaliableUsername})):!1===this.state.gamesListLoaded||!1===this.state.usersLoaded?s.a.createElement("div",null,"Loading.."):s.a.createElement("div",{className:"App"},s.a.createElement("h1",{style:t},"Hi ",this.state.username,", welcome to BoardGames!"),s.a.createElement("h1",{style:t}," That's your games:"),a)}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.37a47597.chunk.js.map